{"mappings":"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","sources":["Documents/experiments/framework/index.js"],"sourcesContent":["\r\n    let gen = (name,data)=>(...children)=>({\r\n        name,data,\r\n        _isTreeObject:true,\r\n        children:children.filter(i=>i._isTreeObject || typeof(i)=='string' || typeof(i)=='function'),\r\n        params:children.filter(i=>!i._isTreeObject && typeof(i)!='string' && typeof(i)!='function')[0]\r\n    })\r\n    let col = gen('col',{tag:'div',style:{display:'flex',flexDirection:'column'}})\r\n    let row = gen('row',{tag:'div',style:{display:'flex',flexDirection:'row'}})\r\n    let button = gen('button',{tag:'button'})\r\n    let input = gen('input',{tag:'input'})\r\n    let refreshButtonRef={}\r\n\r\n\r\n\r\n    function styleToText(v){\r\n        let res = ''\r\n        \r\n        const kebabize = str => {\r\n        return str.split('').map((letter, idx) => {\r\n            return letter.toUpperCase() === letter\r\n            ? `${idx !== 0 ? '-' : ''}${letter.toLowerCase()}`\r\n            : letter;\r\n        }).join('');\r\n        }\r\n        \r\n        for(let i in v){\r\n            res+=kebabize(i)+':'+v[i]+';'\r\n        }\r\n        return res\r\n    }\r\n\r\n    function render(tree){\r\n        if(typeof (tree)=='string'){\r\n            let res  = document.createElement('span')\r\n            res.innerText = tree\r\n            return res\r\n        }\r\n        if(typeof(tree)=='function')return render(tree())\r\n        let res = document.createElement(tree.data.tag)\r\n        if(tree?.params?.onClick)\r\n            res.addEventListener('click',tree.params.onClick)\r\n        if(tree?.params?.onChange)\r\n            res.addEventListener('change',tree.params.onChange)\r\n        if(tree?.params?.ref)\r\n            tree.params.ref.domNode = res\r\n        if(tree?.params?.value)\r\n            res.setAttribute('value',tree?.params?.value)\r\n        res.setAttribute('style',styleToText({...tree.data.style,...tree?.params?.style}))\r\n        for(let i of tree.children)\r\n            res.appendChild(render(i))\r\n        return res\r\n    }\r\n    let page = ()=>{\r\n        let body = 'mainBody'\r\n        let funcBody = 'funcBody: '+state1.x.y\r\n        \r\n        let buttons = \r\n            row(\r\n                button(\r\n                    '-',\r\n                    {\r\n                        onClick:()=>{\r\n                            state1.x.y--;\r\n                        },\r\n                    }\r\n                ),\r\n                button(\r\n                    '+',\r\n                    {\r\n                        onClick:()=>{\r\n                            state1.x.y++;\r\n                        },\r\n                    }\r\n                ),\r\n            )\r\n        \r\n        return col(\r\n            body,\r\n            funcBody,\r\n            buttons,\r\n            'text length>'+state1.demoText?.length,\r\n            input({type:'text',value:state1.demoText,onChange:v=>state1.demoText=v.target.value}),\r\n            \r\n                button(\r\n                    'trim text to'+state1.x.y+' symbols',\r\n                    {\r\n                        onClick:()=>{\r\n                            state1.demoText = state1.demoText.substr(0,state1.x.y);\r\n                        },\r\n                    }\r\n                ),\r\n        )\r\n    }\r\n\r\n    const proxyHandler = {\r\n    get(target, key) {\r\n        if (typeof target[key] === 'object' && target[key] !== null) {\r\n        return new Proxy(target[key], proxyHandler);\r\n        }\r\n        return target[key];\r\n    },\r\n    set(target, prop, value) {\r\n        console.log(`changed ${prop} from ${target[prop]} to ${value}`);\r\n        target[prop] = value;\r\n        let res = render(page())\r\n        document.body.innerHTML=''\r\n        document.body.appendChild(res)\r\n    },\r\n    };\r\n\r\n    let createState=(v)=>new Proxy(v,proxyHandler)\r\n\r\n    let state1 = createState({x:{y:1}})\r\n    state1.x.y = 1\r\n\r\n    let res = render(page())\r\n    console.log(document)\r\n    document.body.innerHTML=''\r\n    document.body.appendChild(res)"],"names":[],"version":3,"file":"index.b925dda0.js.map","sourceRoot":"/__parcel_source_root/"}